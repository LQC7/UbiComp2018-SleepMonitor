\section{DISCUSSION}\label{sec:discussion}

In this paper, we have shown that sensors available on off-the-shelf smartwatches can be used to capture rich information about sleep quality and factors affecting it. The main focus of our work has been to develop the required algorithms for capturing rich sleep related information as accurately as possible. While the recognition performance of our system is very encouraging, there are some issues that would need to be addressed in our system before larger-scale deployment would be feasible. Below we highlight the main issues and briefly discuss possible ways to overcome them.


%In this work, we try to examine the possibilities of using smart wearables to detect sleep. Our focus is to provide a series of ways to detect sleep-related events that will greatly assist in the assessment of sleep quality.While our results are satisfactory, there are still a handful of issues to address as we highlight below.

\begin{itemize}
  \item \textbf{The accuracy of sleep stage detection.}
  Compared with polysomnography-based sleep stage detection, the accuracy of {\systemname} is lower and it is rather difficult to achieve comparable performance. This is because polysomnography monitors and analyzes sleep based on information that directly correlates with sleep such as EEG, EMG, EOG, and oxygen saturation, whereas {\systemname} estimates sleep quality from cues that have have an indirect effect on sleep quality. In particular, \systemname only combines the body movement, acoustic events, sleep environment and other events during sleep to predict the sleep stage. Therefore, {\systemname} is not a replacement for professional medical equipment for high-precision sleep detection, but serves as a personal technology that provides easy-to-use and non-intrusive way to monitor personal sleep patterns and to obtain feedback about the, % However, SleepGuard is able to take advantage of the popularity of business smartwatches to provide easy-to-use and less intrusive sleep detection services, making it easy for users to learn about their sleep and make adjustments based on suggestions.
  \item \textbf{Battery life.} 
  A critical design requirement for sleep detection is that the monitoring can operate sufficiently long to cover the entire duration of the user's sleep. battery capacity on smartwatches is rather limited, resource consumption needs to be optimized by considering both the data collection and analysis phases. In our experiments we demonstrated that additional devices in the vicinity of the smartwatch can be taken advantage of, for example, some of the sensing and processing tasks can be offloaded to smartphones or other smart devices located within sufficient proximity. Particularly the acoustic event detection could be offloaded to smartphones that are located on the bedside table or elsewhere in the user's vicinity as smartphones increasingly integrate co-processors for audio processing that allow performing the audio event detection with a small energy footprint. We have also designed our analysis techniques to be as lightweight as possible to minimize energy consumption. Further improvements can be achieved by designing dynamic duty cycling strategies that reduce sampling during periods of regularity, and by using simple triggering mechanisms, such as a motion intensity detector to reduce processing overhead. Exploring these techniques is part of our future work.%For our work, we only use smartwatch as devices for data collection and delivery, while other computing capabilities are mainly implemented on smartphone, and we also have adopted simpler algorithms to reduce resource usage. But despite this, our smartwatch can only continue to collect about 6 hours of sensor data, which is not sufficient for longer sleep detection, so we still need to further study how to reduce power consumption. One possible solution is to change the data collection strategy to dynamically adjust the sampling frequency based on whether the body is moving or not.
  \item \textbf{Sensor data.}
  One limitation of {\systemname} is that we have not taken advantage of heart rate when determining the current sleep stage of the user. The main reason for this is programming limitations of the Huawai Smartwatch 2 device used in the experiments. Specifically, the device does not support querying heart rate information, but only provides it through a dedicated application. The output of this application is unfortunately not sufficiently accurate for sleep monitoring purposes, and restricts the rate at which information can be acquired. To compensate for the lack of heart rate data, \systemname considers the respiratory amplitude detected from accelerometer instead. As shown in our experiments, the respiratory amplitude detection significantly improves the performance of the sleep stage detection. % which can help us improve the performance of the sleep stage detection (it has been proved in our experiment).
  \item \textbf{Limitations of the algorithm.}
  When we try to detect sleep posture, we find a corresponding relationship between the position of the arm and the sleeping posture, so we indicate the sleeping posture by detecting its position. But currently we consider some specific positions of the arm in the four sleeping positions, some unusual arm's positions are ignored by us and that is something we need to improve further in future work.
\end{itemize}
